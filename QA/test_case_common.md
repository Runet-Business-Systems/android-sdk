Сквозной сценарий оплаты через SDK:
-----------------------------------

1.  Пользователь выбрал оплату через приложение:

    a.  Открывается SDK

    b.  **ЕСЛИ** у пользователя имеются ранее сохраненных связок, **ТО**
        отображается экран выбора карты. **Переход к шагу 2.**

    c.  **ЕСЛИ** у пользователя нет ранее сохраненных связок, **ТО**
        отображается экран ввода данных карты. **Переход к шагу 4**

2.  Пользователь нажимает на карту из списка:

    a.  Отображается экран с шаблоном карты и кнопкой оплатить

    b.  **ЕСЛИ** в настройках SDK выбран режим *с вводом* CVC/CVV, то на
        шаблоне карты *отображается поле для ввода CVC/CVV кода*.
        **Переход к шагу 3.**

    c.  **ЕСЛИ** в настройках SDK выбран режим *без ввода* CVC/CVV, то
        на шаблоне карты *не отображается поле для ввода CVC/CVV кода.*
        **Переход к шагу 5.**

3.  Пользователь вводит CVC/CVV код:

    a.  **Переход к шагу 5.**

4.  Пользователь заполняет корректные данные о новой карте в зависимости
    от выбранных настроек SDK:

    a.  **Переход к шагу 5.**

5.  Пользователь нажимает кнопку оплаты:

    a.  SDK отправляет данные в платежный шлюз

Оплата новой картой с минимальным набором полей (ручной ввод):
--------------------------------------------------------------

### Предусловия:

-   Пользователь в приложении выбрал оплату картой

-   Отображается экран ввода данных банковской карты с минимальным
    набором полей:

    -   Номер карты

    -   Срок действия

    -   CVC2/CVV2

### Шаги сценария:

1.  Проверить отображение экрана ввода данных карты:

    a.  Отображается шаблон обезличенной карты

    b.  Отображается поле ввода «Номер карты»

    c.  Отображается поле ввода «Срок действия карты»

    d.  Отображается поле ввода «CVC2/CVV2»

    e.  Отображаются логотипы платежных систем, между полями ввода и
        кнопкой «Оплатить»

    f.  Отображается кнопка «Оплатить»

2.  Нажать в поле ввода «Номер карты»:

    a.  В поле «Номер карты» отображается курсор ввода

    b.  Надпись: «Номер карты», отображается над полем ввода

3.  Ввести первые 6 цифр номера карты:

    a.  **ЕСЛИ** на шаблоне карты отображается: платежная система **И**
        введенные цифры **И/ИЛИ** банк карты: \[логотип, цвет\], то
        переход на шаг 5.

4.  Ввести оставшиеся цифры номера карты:

    a.  На модели карты отображается введенный номер карты **И**
        платежная система **И** банк карты: \[цвет, логотип\])

    b.  Курсор ввода переместился в поле ввода «Срок действия карты»

    c.  Над полем ввода «Срок действия карты» отображается надпись MM/YY

5.  Ввести номер месяца окончания действия карты двумя цифрами, в поле
    ввода (Если у месяца однозначный номер {Например: 5}, то ввести
    нужно {05}):

    a.  В поле ввода отображается введенные цифры

    b.  После ввода номера месяца автоматически добавляется символ «/» в
        поле ввода

    c.  На шаблоне карты отображаются введенные символы

6.  Ввести год окончания действия карты в поле ввода:

    a.  Курсор ввода переместился в поле ввода «CVC2/CVV2»

    b.  В поле ввода «Срок действия карты» отображаются введенные
        значения в формате: «ММ/ГГ»

    c.  На шаблоне карты отображаются введенная дата окончания действия
        карты

7.  Ввести CVC2/CVV2 код в поле ввода:

    a.  Введенные цифры закрываются маской

8.  Нажать кнопку «Оплатить»:

    a.  Отображается сообщение: «New card false»

    b.  Отображается сообщение с криптограммой

    c.  Экран ввода данных закрывается

Оплата новой картой с максимальным набором полей (ручной ввод):
---------------------------------------------------------------

### Предусловия:

-   Пользователь в приложении выбрал оплату картой

-   Отображается экран ввода данных банковской карты с максимальным
    набором полей:

    -   Номер карты

    -   Срок действия

    -   CVC2/CVV2

    -   Владелец карты

    -   Сохранить карту

### Шаги сценария:

1.  Проверить отображение экрана ввода данных карты:

    a.  Отображается шаблон обезличенной карты

    b.  Отображается поле ввода «Номер карты»

    c.  Отображается поле ввода «Срок действия карты»

    d.  Отображается поле ввода «CVC2/CVV2»

    e.  Отображается поле ввода «Владелец карты»

    f.  Отображаются логотипы платежных систем, между полями ввода и
        кнопкой «Оплатить»

    g.  Отображается кнопка «Оплатить»

2.  Нажать в поле ввода «Номер карты»:

    a.  В поле «Номер карты» отображается курсор ввода

    b.  Надпись: «Номер карты», отображается над полем ввода

3.  Ввести первые 6 цифр номера карты:

    a.  **ЕСЛИ** на шаблоне карты отображается: платежная система **И**
        введенные цифры **И/ИЛИ** банк карты: \[логотип, цвет\], то
        переход на шаг 5.

4.  Ввести оставшиеся цифры номера карты:

    a.  На модели карты отображается введенный номер карты **И**
        платежная система **И** банк карты: \[цвет, логотип\])

    b.  Курсор ввода переместился в поле ввода «Срок действия карты»

    c.  Над полем ввода «Срок действия карты» отображается надпись MM/YY

5.  Ввести номер месяца окончания действия карты двумя цифрами, в поле
    ввода (Если у месяца однозначный номер {Например: 5}, то ввести
    нужно {05}):

    a.  В поле ввода отображается введенные цифры

    b.  После ввода номера месяца автоматически добавляется символ «/» в
        поле ввода

    c.  На шаблоне карты отображаются введенные символы

6.  Ввести год окончания действия карты в поле ввода:

    a.  Курсор ввода переместился в поле ввода «CVC2/CVV2»

    b.  В поле ввода «Срок действия карты» отображаются введенные
        значения в формате: «ММ/ГГ»

    c.  На шаблоне карты отображаются введенная дата окончания действия
        карты

7.  Ввести CVC2/CVV2 код в поле ввода:

    a.  Введенные цифры закрываются маской

    b.  Курсор ввода переместился в поле «Владелец карты»

8.  Ввести имя и фамилию владельца как указано на банковской карте

    a.  Введенное значение отображается символами верхнего регистра

9.  Проверить что установлен чек-бокс «Сохранить карту»:

    a.  В поле чек-бокса установлена отметка о выделении

10. Нажать кнопку «Оплатить»:

    a.  Отображается сообщение: «New card {Имя Фамилия} true»

    b.  Отображается сообщение с криптограммой

    c.  Экран ввода данных закрывается

Выбор сохраненной карты:
------------------------

### Предусловия:

-   Пользователь «приложения» выбрал оплату картой

-   У пользователя нет сохраненных связок или сохранение связок
    запрещено настройками SDK

-   Отображается экран ввода данных банковской карты

-   В настройках SDK разрешено использование сканера

### Шаги сценария:

1.  Отображается экран выбора карты:

    a.  Отображается список сохраненных карт «Связок»

    b.  Отображается кнопка «Оплатить новой картой»

2.  Пользователь нажимает на карту из списка:

    a.  Отображается экран подтверждения оплаты

    b.  На экране отображается шаблон карты

        i.  На шаблоне карты отображается номер карты с закрытыми
            символами от 7 до 12

        ii. Отображается срок действия карты в формате ММ/ГГ

        iii. Отображается поле ввода для CVV/CVC кода

    c.  На экране отображается кнопка оплаты

Оплата сохраненной картой (Без ввода CVC/CVV кода):
---------------------------------------------------

### Предусловия:

-   Пользователь «приложения» выбрал оплату картой

-   У пользователя имеются сохраненные карты(связки)

-   В настройках SDK разрешена оплата без ввода CVC/CVV кода

-   Отображается экран выбора сохраненной карты

### Шаги сценария:

1.  Пользователь выбирает карту из списка сохраненных для оплаты:

    a.  Отображается экран подтверждения оплаты

    b.  На экране отображается шаблон карты без поля для ввода CVC/CVV
        кода

    c.  На экране отображается кнопка оплаты

    d.  На экране отображается сумма платежа

2.  Пользователь нажимает кнопку оплаты:

    a.  Отображается сообщение содержащие UUID сохраненной связки

    b.  Отображается сообщение с криптограммой

    c.  Экран подтверждения оплаты закрывается

Оплата сохраненной картой (С вводом CVC/CVV кода):
--------------------------------------------------

### Предусловия:

-   Пользователь «приложения» выбрал оплату картой

-   У пользователя имеются сохраненные карты(связки)

-   В настройках SDK запрещена оплата без ввода CVC/CVV кода

-   Отображается экран выбора сохраненной карты

### Шаги сценария:

1.  Пользователь выбирает карту из списка сохраненных для оплаты:

    a.  Отображается экран подтверждения оплаты

    b.  На экране отображается шаблон карты с полем для ввода CVC/CVV
        кода

    c.  На экране отображается кнопка оплаты

    d.  На экране отображается сумма платежа

2.  Пользователь нажимает кнопку оплаты:

    a.  Отображается сообщение содержащие UUID сохраненной связки

    b.  Отображается сообщение с криптограммой

    c.  Экран подтверждения оплаты закрывается
